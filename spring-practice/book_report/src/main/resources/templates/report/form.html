<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/default}"
>
<main layout:fragment="main" class="container">
    <div class="form-signin w-100 m-auto">
        <form  th:action="@{${report != null} ? '/report/update/' + ${report.id} : '/report/post'}" 
            th:method="${report != null} ? 'PATCH' : 'POST'">
                
            <input type="hidden" name="id" th:if="${report ne null}" th:value="${report.id}" />
            
            <div class="form-floating mb-4">
              <input name="bookTitle" class="form-control" id="bookTitle" th:value="${report ne null ? report.book.bookTitle : ''}" 
                    placeholder="책 제목을 입력하세요" required>
              <label for="bookTitle">책 제목</label>
            </div>
            
            <div class="form-floating mb-4">
              <input name="author" class="form-control" id="author" th:value="${report ne null ? report.book.author : ''}"
                    placeholder="작가를 입력하세요" required>
              <label for="author">작가</label>
            </div>
            
            <div class="form-floating mb-4">
              <input name="publisher" class="form-control" id="publisher" th:value="${report ne null ? report.book.publisher : ''}"
                    placeholder="출판사를 입력하세요" required>
              <label for="publisher">출판사</label>
            </div>
            
            <div class="form-floating mb-4">
              <input name="genre" class="form-control" id="genre"  th:value="${report ne null ? report.book.genre : ''}"
                    placeholder="장르를 입력하세요" required>
              <label for="genre">장르</label>
            </div>
            
            <div class="form-floating mb-4">
              <input name="title" class="form-control" id="title" th:value="${report ne null ? report.title : ''}"
                    placeholder="제목을 입력하세요" required>
              <label for="title">독후감 제목</label>
            </div>
            
            <div class="form-floating mb-4">
              <textarea name="content" class="form-control" id="content" th:text="${report ne null ? report.content : ''}"
                    style="height:300px;"></textarea>
              <label for="content">내용</label>
            </div>
            
        
            <button class="btn btn-outline-dark w-100 py-2">
                [[ ${report ne null ? '수정하기' : '등록하기'} ]]
            </button>
          </form>
    </div>
</main>
</html>